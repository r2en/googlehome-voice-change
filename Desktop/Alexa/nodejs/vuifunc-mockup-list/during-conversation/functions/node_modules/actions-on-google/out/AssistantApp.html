<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: AssistantApp</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: AssistantApp</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>AssistantApp<span class="signature">(options, requestData)</span><span class="type-signature"></span></h2>
        
            <div class="class-description">The Actions on Google client library AssistantApp base class.

This class contains the methods that are shared between platforms to support the conversation API
protocol from Assistant. It also exports the 'State' class as a helper to represent states by
name.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="AssistantApp"><span class="type-signature"></span>new AssistantApp<span class="signature">(options, requestData)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Constructor for AssistantApp object.
Should not be instantiated; rather instantiate one of the subclasses
<a href="ActionsSdkApp.html">ActionsSdkApp</a> or <a href="DialogflowApp.html">DialogflowApp</a>.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">JSON configuration.
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Express HTTP request object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>response</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Express HTTP response object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sessionStarted</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Function callback when session starts.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>requestData</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">Function that returns the
    request data object to be processed.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line66">line 66</a>
    </li></ul></dd>
    

    

    

    
</dl>


















    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="ANY_TYPE_PROPERTY_"><span class="type-signature">(readonly) </span>ANY_TYPE_PROPERTY_<span class="type-signature"> :string</span></h4>




<div class="description">
    The property name used when specifying an input value data spec.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line337">line 337</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="BuiltInArgNames"><span class="type-signature">(readonly) </span>BuiltInArgNames<span class="type-signature"> :string</span></h4>




<div class="description">
    List of built-in argument names.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>PERMISSION_GRANTED</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Permission granted argument.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>OPTION</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Option selected argument.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>TRANSACTION_REQ_CHECK_RESULT</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Transaction requirements check result argument.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>DELIVERY_ADDRESS_VALUE</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Delivery address value argument.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>TRANSACTION_DECISION_VALUE</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Transactions decision argument.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>CONFIRMATION</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Confirmation argument.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>DATETIME</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">DateTime argument.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>SIGN_IN</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Sign in status argument.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>REPROMPT_COUNT</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Reprompt count for consecutive NO_INPUT intents.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>IS_FINAL_REPROMPT</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Flag representing finality of NO_INPUT intent.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>NEW_SURFACE</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">New surface value argument.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>REGISTER_UPDATE</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Update registration value argument.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line303">line 303</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="ConversationStages"><span class="type-signature">(readonly) </span>ConversationStages<span class="type-signature"> :number</span></h4>




<div class="description">
    List of possible conversation stages, as defined in the
<a href="https://developers.google.com/actions/reference/conversation#Conversation">Conversation object</a>.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>UNSPECIFIED</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Unspecified conversation state.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>NEW</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">A new conversation.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ACTIVE</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">An active (ongoing) conversation.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Use ConversationTypes instead.</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line377">line 377</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="ConversationTypes"><span class="type-signature">(readonly) </span>ConversationTypes<span class="type-signature"> :number</span></h4>




<div class="description">
    List of possible conversation types, as defined in the
<a href="https://developers.google.com/actions/reference/conversation#Conversation">Conversation object</a>.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>UNSPECIFIED</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Unspecified conversation state.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>NEW</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">A new conversation.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ACTIVE</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">An active (ongoing) conversation.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line400">line 400</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="data"><span class="type-signature"></span>data<span class="type-signature"> :Object</span></h4>




<div class="description">
    The session data in JSON format.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line187">line 187</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="InputTypes"><span class="type-signature">(readonly) </span>InputTypes<span class="type-signature"> :number</span></h4>




<div class="description">
    List of possible user input types.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>UNSPECIFIED</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Unspecified.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>TOUCH</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Input given by touch.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>VOICE</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Input given by voice (spoken).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>KEYBOARD</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Input given by keyboard (typed).</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line440">line 440</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="SignInStatus"><span class="type-signature">(readonly) </span>SignInStatus<span class="type-signature"> :string</span></h4>




<div class="description">
    List of possible sign in result status values.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>UNSPECIFIED</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>OK</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>CANCELLED</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ERROR</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line466">line 466</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="StandardIntents"><span class="type-signature">(readonly) </span>StandardIntents<span class="type-signature"> :string</span></h4>




<div class="description">
    List of standard intents that the app provides.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>MAIN</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">App fires MAIN intent for queries like [talk to $app].</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>TEXT</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">App fires TEXT intent when action issues ask intent.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>PERMISSION</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">App fires PERMISSION intent when action invokes askForPermission.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>OPTION</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">App fires OPTION intent when user chooses from options provided.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>TRANSACTION_REQUIREMENTS_CHECK</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">App fires TRANSACTION_REQUIREMENTS_CHECK intent when action sets up transaction.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>DELIVERY_ADDRESS</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">App fires DELIVERY_ADDRESS intent when action asks for delivery address.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>TRANSACTION_DECISION</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">App fires TRANSACTION_DECISION intent when action asks for transaction decision.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>CONFIRMATION</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">App fires CONFIRMATION intent when requesting affirmation from user.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>DATETIME</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">App fires DATETIME intent when requesting date/time from user.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>SIGN_IN</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">App fires SIGN_IN intent when requesting sign-in from user.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>NO_INPUT</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">App fires NO_INPUT intent when user doesn't provide input.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>CANCEL</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">App fires CANCEL intent when user exits app mid-dialog.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>NEW_SURFACE</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">App fires NEW_SURFACE intent when requesting handoff to a new surface from user.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>REGISTER_UPDATE</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">App fires REGISTER_UPDATE intent when requesting the user to register for proactive updates.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>CONFIGURE_UPDATES</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">App receives CONFIGURE_UPDATES intent to indicate a custom REGISTER_UPDATE intent should be sent.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line234">line 234</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="state"><span class="type-signature"></span>state<span class="type-signature"> :string</span></h4>




<div class="description">
    The session state.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line180">line 180</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="SupportedPermissions"><span class="type-signature">(readonly) </span>SupportedPermissions<span class="type-signature"> :string</span></h4>




<div class="description">
    List of supported permissions the app supports.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>NAME</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The user's name as defined in the
<a href="https://developers.google.com/actions/reference/conversation#UserProfile">UserProfile object</a></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>DEVICE_PRECISE_LOCATION</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The location of the user's current device, as defined in the
<a href="https://developers.google.com/actions/reference/conversation#Location">Location object</a>.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>DEVICE_COARSE_LOCATION</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">City and zipcode corresponding to the location of the user's current device, as defined in the
<a href="https://developers.google.com/actions/reference/conversation#Location">Location object</a>.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>UPDATE</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Confirmation to receive proactive content at any time from the app.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line274">line 274</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="SurfaceCapabilities"><span class="type-signature">(readonly) </span>SurfaceCapabilities<span class="type-signature"> :string</span></h4>




<div class="description">
    List of surface capabilities supported by the app.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>AUDIO_OUTPUT</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The ability to output audio.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>SCREEN_OUTPUT</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The ability to output on a screen</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line422">line 422</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="TimeContextFrequency"><span class="type-signature">(readonly) </span>TimeContextFrequency<span class="type-signature"> :object</span></h4>




<div class="description">
    Possible update trigger time context frequencies.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line502">line 502</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="Transactions"><span class="type-signature">(readonly) </span>Transactions<span class="type-signature"> :object</span></h4>




<div class="description">
    Values related to supporting Transactions.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line495">line 495</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="userStorage"><span class="type-signature"></span>userStorage<span class="type-signature"> :Object</span></h4>




<div class="description">
    The data persistent across sessions in JSON format.
It exists in the same context as getUser().userId
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line204">line 204</a>
    </li></ul></dd>
    

    

    

    
</dl>





    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// Actions SDK
const app = new ActionsSdkApp({request: request, response: response});
app.userStorage.someProperty = 'someValue';
// Dialogflow
const app = new DialogflowApp({request: request, response: response});
app.userStorage.someProperty = 'someValue';</code></pre>



        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="askForConfirmation"><span class="type-signature"></span>askForConfirmation<span class="signature">(prompt<span class="signature-attributes">opt</span>, dialogState<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>
    

    



<div class="description">
    Asks user for a confirmation.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>prompt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The confirmation prompt presented to the user to
    query for an affirmative or negative response. If undefined or null,
    Google will use a generic yes/no prompt.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dialogState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">JSON object the app uses to hold dialog state that
    will be circulated back by Assistant. Used in <a href="ActionsSdkApp.html">ActionsSdkApp</a>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1192">line 1192</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    HTTP response.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({ request, response });
const WELCOME_INTENT = 'input.welcome';
const CONFIRMATION = 'confirmation';

function welcomeIntent (app) {
  app.askForConfirmation('Are you sure you want to do that?');
}

function confirmation (app) {
  if (app.getUserConfirmation()) {
    app.tell('Great! I\'m glad you want to do it!');
  } else {
    app.tell('That\'s okay. Let\'s not do it now.');
  }
}

const actionMap = new Map();
actionMap.set(WELCOME_INTENT, welcomeIntent);
actionMap.set(CONFIRMATION, confirmation);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="askForDateTime"><span class="type-signature"></span>askForDateTime<span class="signature">(initialPrompt<span class="signature-attributes">opt</span>, datePrompt<span class="signature-attributes">opt</span>, timePrompt<span class="signature-attributes">opt</span>, dialogState<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>
    

    



<div class="description">
    Asks user for a timezone-agnostic date and time.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>initialPrompt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The initial prompt used to ask for a
    date and time. If undefined or null, Google will use a generic
    prompt.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>datePrompt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The prompt used to specifically ask for the
    date if not provided by user. If undefined or null, Google will use a
    generic prompt.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timePrompt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The prompt used to specifically ask for the
    time if not provided by user. If undefined or null, Google will use a
    generic prompt.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dialogState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">JSON object the app uses to hold dialog state that
    will be circulated back by Assistant. Used in <a href="ActionsSdkApp.html">ActionsSdkApp</a>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1249">line 1249</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    HTTP response.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({ request, response });
const WELCOME_INTENT = 'input.welcome';
const DATETIME = 'datetime';

function welcomeIntent (app) {
  app.askForDateTime('When do you want to come in?',
    'Which date works best for you?',
    'What time of day works best for you?');
}

function datetime (app) {
  app.tell({speech: 'Great see you at your appointment!',
    displayText: 'Great, we will see you on '
    + app.getDateTime().date.month
    + '/' + app.getDateTime().date.day
    + ' at ' + app.getDateTime().time.hours
    + (app.getDateTime().time.minutes || '')});
}

const actionMap = new Map();
actionMap.set(WELCOME_INTENT, welcomeIntent);
actionMap.set(DATETIME, datetime);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="askForDeliveryAddress"><span class="type-signature"></span>askForDeliveryAddress<span class="signature">(reason, dialogState<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    Asks user for delivery address.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>reason</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Reason given to user for asking delivery address.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dialogState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">JSON object the app uses to hold dialog state that
    will be circulated back by Assistant.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1142">line 1142</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    HTTP response.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// For DialogflowApp:
const app = new DialogflowApp({request, response});
const WELCOME_INTENT = 'input.welcome';
const DELIVERY_INTENT = 'delivery.address';

function welcomeIntent (app) {
  app.askForDeliveryAddress('To make sure I can deliver to you');
}

function addressIntent (app) {
  const postalCode = app.getDeliveryAddress().postalAddress.postalCode;
  if (isInDeliveryZone(postalCode)) {
    app.tell('Great looks like you\'re in our delivery area!');
  } else {
    app.tell('I\'m sorry it looks like we can\'t deliver to you.');
  }
}

const actionMap = new Map();
actionMap.set(WELCOME_INTENT, welcomeIntent);
actionMap.set(DELIVERY_INTENT, addressIntent);
app.handleRequest(actionMap);

// For ActionsSdkApp:
const app = new ActionsSdkApp({request, response});
const WELCOME_INTENT = app.StandardIntents.MAIN;
const DELIVERY_INTENT = app.StandardIntents.DELIVERY_ADDRESS;

function welcomeIntent (app) {
  app.askForDeliveryAddress('To make sure I can deliver to you');
}

function addressIntent (app) {
  const postalCode = app.getDeliveryAddress().postalAddress.postalCode;
  if (isInDeliveryZone(postalCode)) {
    app.tell('Great looks like you\'re in our delivery area!');
  } else {
    app.tell('I\'m sorry it looks like we can\'t deliver to you.');
  }
}

const actionMap = new Map();
actionMap.set(WELCOME_INTENT, welcomeIntent);
actionMap.set(DELIVERY_INTENT, addressIntent);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="askForNewSurface"><span class="type-signature"></span>askForNewSurface<span class="signature">(context, notificationTitle, capabilities, dialogState<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>
    

    



<div class="description">
    Requests the user to switch to another surface during the conversation.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Context why new surface is requested; it's the TTS
    prompt prefix (action phrase) we ask the user.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>notificationTitle</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Title of the notification appearing on
    new surface device.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>capabilities</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The list of capabilities required in
    the surface.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dialogState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">JSON object the app uses to hold dialog state that
    will be circulated back by Assistant. Used in <a href="ActionsSdkApp.html">ActionsSdkApp</a>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1354">line 1354</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    HTTP response.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({ request, response });
const WELCOME_INTENT = 'input.welcome';
const SHOW_IMAGE = 'show.image';

function welcomeIntent (app) {
  if (app.hasSurfaceCapability(app.SurfaceCapabilities.SCREEN_OUTPUT)) {
    showPicture(app);
  } else if (app.hasAvailableSurfaceCapabilities(app.SurfaceCapabilities.SCREEN_OUTPUT)) {
    app.askForNewSurface('To show you an image',
      'Check out this image',
      [app.SurfaceCapabilities.SCREEN_OUTPUT]
    );
  } else {
    app.tell('This part of the app only works on screen devices. Sorry about that');
  }
}

function showImage (app) {
  if (!app.isNewSurface()) {
    app.tell('Ok, I understand. You don't want to see pictures. Bye');
  } else {
    showPicture(app, pictureType);
  }
}

const actionMap = new Map();
actionMap.set(WELCOME_INTENT, welcomeIntent);
actionMap.set(SHOW_IMAGE, showImage);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="askForPermission"><span class="type-signature"></span>askForPermission<span class="signature">(context, permission, dialogState<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>
    

    



<div class="description">
    Asks the Assistant to guide the user to grant a permission. For example,
if you want your app to get access to the user's name, you would invoke
the askForPermission method with a context containing the reason for the request,
and the AssistantApp.SupportedPermissions.NAME permission. With this, the Assistant will ask
the user, in your agent's voice, the following: '[Context with reason for the request],
I'll just need to get your name from Google, is that OK?'.

Once the user accepts or denies the request, the Assistant will fire another intent:
assistant.intent.action.PERMISSION with a boolean argument: AssistantApp.BuiltInArgNames.PERMISSION_GRANTED
and, if granted, the information that you requested.

Read more:

* <a href="https://developers.google.com/actions/reference/conversation#ExpectedIntent">Supported Permissions</a>
* Check if the permission has been granted with <a href="AssistantApp.html#isPermissionGranted">isPermissionsGranted</a>
* <a href="AssistantApp.html#getDeviceLocation">getDeviceLocation</a>
* <a href="AssistantApp.html#getUserName">getUserName</a>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Context why permission is asked; it's the TTS
    prompt prefix (action phrase) we ask the user.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>permission</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">One of the permissions Assistant supports, each of
    which comes from AssistantApp.SupportedPermissions.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dialogState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">JSON object the app uses to hold dialog state that
    will be circulated back by Assistant.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1051">line 1051</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    A response is sent to the Assistant to ask for the user's permission;
    for any invalid input, we return null.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({request: req, response: res});
const REQUEST_PERMISSION_ACTION = 'request_permission';
const GET_RIDE_ACTION = 'get_ride';

function requestPermission (app) {
  const permission = app.SupportedPermissions.NAME;
  app.askForPermission('To pick you up', permission);
}

function sendRide (app) {
  if (app.isPermissionGranted()) {
    const displayName = app.getUserName().displayName;
    app.tell('I will tell your driver to pick up ' + displayName);
  } else {
    // Response shows that user did not grant permission
    app.tell('Sorry, I could not figure out who to pick up.');
  }
}
const actionMap = new Map();
actionMap.set(REQUEST_PERMISSION_ACTION, requestPermission);
actionMap.set(GET_RIDE_ACTION, sendRide);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="askForPermissions"><span class="type-signature"></span>askForPermissions<span class="signature">(context, permissions, dialogState<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>
    

    



<div class="description">
    Equivalent to <a href="AssistantApp.html#askForPermission">askForPermission</a>,
but allows you to prompt the user for more than one permission at once.

Notes:

* The order in which you specify the permission prompts does not matter -
  it is controlled by the Assistant to provide a consistent user experience.
* The user will be able to either accept all permissions at once, or none.
  If you wish to allow them to selectively accept one or other, make several
  dialog turns asking for each permission independently with askForPermission.
* Asking for DEVICE_COARSE_LOCATION and DEVICE_PRECISE_LOCATION at once is
  equivalent to just asking for DEVICE_PRECISE_LOCATION
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Context why the permission is being asked; it's the TTS
    prompt prefix (action phrase) we ask the user.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>permissions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Array of permissions App supports, each of
    which comes from AssistantApp.SupportedPermissions.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dialogState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">JSON object the app uses to hold dialog state that
    will be circulated back by Assistant. Used in <a href="ActionsSdkApp.html">ActionsSdkApp</a>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line751">line 751</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    A response is sent to Assistant to ask for the user's permission; for any
    invalid input, we return null.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({request: req, response: res});
const REQUEST_PERMISSION_ACTION = 'request_permission';
const GET_RIDE_ACTION = 'get_ride';

function requestPermission (app) {
  const permission = [
    app.SupportedPermissions.NAME,
    app.SupportedPermissions.DEVICE_PRECISE_LOCATION
  ];
  app.askForPermissions('To pick you up', permissions);
}

function sendRide (app) {
  if (app.isPermissionGranted()) {
    const displayName = app.getUserName().displayName;
    const address = app.getDeviceLocation().address;
    app.tell('I will tell your driver to pick up ' + displayName +
        ' at ' + address);
  } else {
    // Response shows that user did not grant permission
    app.tell('Sorry, I could not figure out where to pick you up.');
  }
}
const actionMap = new Map();
actionMap.set(REQUEST_PERMISSION_ACTION, requestPermission);
actionMap.set(GET_RIDE_ACTION, sendRide);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="askForSignIn"><span class="type-signature"></span>askForSignIn<span class="signature">(dialogState<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>
    

    



<div class="description">
    Hands the user off to a web sign in flow. App sign in and OAuth credentials
are set in the <a href="https://console.actions.google.com">Actions Console</a>.
Retrieve the access token in subsequent intents using
app.getUser().accessToken.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dialogState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">JSON object the app uses to hold dialog state that
    will be circulated back by Assistant. Used in <a href="ActionsSdkApp.html">ActionsSdkApp</a>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1301">line 1301</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    HTTP response.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({ request, response });
const WELCOME_INTENT = 'input.welcome';
const SIGN_IN = 'sign.in';

function welcomeIntent (app) {
  app.askForSignIn();
}

function signIn (app) {
  if (app.getSignInStatus() === app.SignInstatus.OK) {
    let accessToken = app.getUser().accessToken;
    app.ask('Great, thanks for signing in!');
  } else {
    app.ask('I won\'t be able to save your data, but let\'s continue!');
  }
}

const actionMap = new Map();
actionMap.set(WELCOME_INTENT, welcomeIntent);
actionMap.set(SIGN_IN, signIn);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="askForTransactionDecision"><span class="type-signature"></span>askForTransactionDecision<span class="signature">(order, transactionConfig, dialogState<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>
    

    



<div class="description">
    Asks user to confirm transaction information.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>order</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Order built with buildOrder().</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>transactionConfig</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#ActionPaymentTransactionConfig">ActionPaymentTransactionConfig</a></span>
|

<span class="param-type"><a href="global.html#GooglePaymentTransactionConfig">GooglePaymentTransactionConfig</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Configuration for the transaction. Includes payment
    options and order options.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dialogState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">JSON object the app uses to hold dialog state that
    will be circulated back by Assistant. Used in <a href="ActionsSdkApp.html">ActionsSdkApp</a>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line958">line 958</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    HTTP response
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({request: request, response: response});
const WELCOME_INTENT = 'input.welcome';
const TXN_COMPLETE = 'txn.complete';

let transactionConfig = {
    deliveryAddressRequired: false,
    type: app.Transactions.PaymentType.BANK,
    displayName: 'Checking-1234'
};

let order = app.buildOrder();
// fill order cart

function welcomeIntent (app) {
  app.askForTransaction(order, transactionConfig);
}

function txnComplete (app) {
  // respond with order update
}

const actionMap = new Map();
actionMap.set(WELCOME_INTENT, welcomeIntent);
actionMap.set(TXN_COMPLETE, txnComplete);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="askForTransactionRequirements"><span class="type-signature"></span>askForTransactionRequirements<span class="signature">(transactionConfig, dialogState<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>
    

    



<div class="description">
    Checks whether user is in transactable state.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>transactionConfig</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#ActionPaymentTransactionConfig">ActionPaymentTransactionConfig</a></span>
|

<span class="param-type"><a href="global.html#GooglePaymentTransactionConfig">GooglePaymentTransactionConfig</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Configuration for the transaction. Includes payment
    options and order options. Optional if order has no payment or
    delivery.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dialogState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">JSON object the app uses to hold dialog state that
    will be circulated back by Assistant. Used in <a href="ActionsSdkApp.html">ActionsSdkApp</a>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line893">line 893</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    HTTP response.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({request: request, response: response});
const WELCOME_INTENT = 'input.welcome';
const TXN_REQ_COMPLETE = 'txn.req.complete';

let transactionConfig = {
    deliveryAddressRequired: false,
    type: app.Transactions.PaymentType.BANK,
    displayName: 'Checking-1234'
};
function welcomeIntent (app) {
  app.askForTransactionRequirements(transactionConfig);
}

function txnReqCheck (app) {
  if (app.getTransactionRequirementsResult() === app.Transactions.ResultType.OK) {
    // continue cart building flow
  } else {
    // don't continue cart building
  }
}

const actionMap = new Map();
actionMap.set(WELCOME_INTENT, welcomeIntent);
actionMap.set(TXN_REQ_COMPLETE, txnReqCheck);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="askForUpdatePermission"><span class="type-signature"></span>askForUpdatePermission<span class="signature">(intent, intentArguments, dialogState<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>
    

    



<div class="description">
    Prompts the user for permission to send proactive updates at any time.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>intent</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">If using Dialogflow, the action name of the intent
    to be triggered when the update is received. If using Actions SDK, the
    intent name to be triggered when the update is received.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>intentArguments</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="global.html#IntentArgument">IntentArgument</a>></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The necessary arguments
    to fulfill the intent triggered on update. These can be retrieved using
    AssistantApp#getArgument.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dialogState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">JSON object the app uses to hold dialog state that
    will be circulated back by Assistant. Used in <a href="ActionsSdkApp.html">ActionsSdkApp</a>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line834">line 834</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    A response is sent to Assistant to ask for the user's permission; for any
    invalid input, we return null.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({request, response});
const REQUEST_PERMISSION_ACTION = 'request.permission';
const PERMISSION_REQUESTED = 'permission.requested';
const SHOW_IMAGE = 'show.image';

function requestPermission (app) {
  app.askForUpdatePermission('show.image', [
    {
      name: 'image_to_show',
      textValue: 'image_type_1'
    }
  ]);
}

function checkPermission (app) {
  if (app.isPermissionGranted()) {
    app.tell(`Great, I'll send an update whenever I notice a change`);
  } else {
    // Response shows that user did not grant permission
    app.tell('Alright, just let me know whenever you need the weather!');
  }
}

function showImage (app) {
  showPicture(app.getArgument('image_to_show'));
}

const actionMap = new Map();
actionMap.set(REQUEST_PERMISSION_ACTION, requestPermission);
actionMap.set(PERMISSION_REQUESTED, checkPermission);
actionMap.set(SHOW_IMAGE, showImage);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="askToRegisterDailyUpdate"><span class="type-signature"></span>askToRegisterDailyUpdate<span class="signature">(intent, intentArguments, dialogState<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>
    

    



<div class="description">
    Requests the user to register for daily updates.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>intent</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">If using Dialogflow, the action name of the intent
    to be triggered when the update is received. If using Actions SDK, the
    intent name to be triggered when the update is received.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>intentArguments</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="global.html#IntentArgument">IntentArgument</a>></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The necessary arguments
    to fulfill the intent triggered on update. These can be retrieved using
    AssistantApp#getArgument.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dialogState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">JSON object the app uses to hold dialog state that
    will be circulated back by Assistant. Used in <a href="ActionsSdkApp.html">ActionsSdkApp</a>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1402">line 1402</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    HTTP response.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({ request, response });
const WELCOME_INTENT = 'input.welcome';
const SHOW_IMAGE = 'show.image';

function welcomeIntent (app) {
  app.askToRegisterDailyUpdate('show.image', [
    {
      name: 'image_to_show',
      textValue: 'image_type_1'
    }
  ]);
}

function showImage (app) {
  showPicture(app.getArgument('image_to_show'));
}

const actionMap = new Map();
actionMap.set(WELCOME_INTENT, welcomeIntent);
actionMap.set(SHOW_IMAGE, showImage);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="buildBasicCard"><span class="type-signature"></span>buildBasicCard<span class="signature">(bodyText<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="BasicCard.html">BasicCard</a>}</span></h4>
    

    



<div class="description">
    Constructs BasicCard with chainable property setters.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>bodyText</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Body text of the card. Can be set using setTitle
    instead.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line2094">line 2094</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Constructed BasicCard.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="BasicCard.html">BasicCard</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="buildCarousel"><span class="type-signature"></span>buildCarousel<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="Carousel.html">Carousel</a>}</span></h4>
    

    



<div class="description">
    Constructs Carousel with chainable property setters.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line2117">line 2117</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Constructed Carousel.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Carousel.html">Carousel</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="buildCart"><span class="type-signature"></span>buildCart<span class="signature">(cartId<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="Cart.html">Cart</a>}</span></h4>
    

    



<div class="description">
    Constructs Cart with chainable property setters.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cartId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Unique identifier for the cart.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line2162">line 2162</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Constructed Cart.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Cart.html">Cart</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="buildLineItem"><span class="type-signature"></span>buildLineItem<span class="signature">(name, id)</span><span class="type-signature"> &rarr; {<a href="LineItem.html">LineItem</a>}</span></h4>
    

    



<div class="description">
    Constructs LineItem with chainable property setters.
Because of a previous bug, the parameters are swapped compared to
the LineItem constructor to prevent a breaking change.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Name of the line item.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Unique identifier for the item.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line2175">line 2175</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Constructed LineItem.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="LineItem.html">LineItem</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="buildList"><span class="type-signature"></span>buildList<span class="signature">(title<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="List.html">List</a>}</span></h4>
    

    



<div class="description">
    Constructs List with chainable property setters.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>title</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">A title to set for a new List.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line2108">line 2108</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Constructed List.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="List.html">List</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="buildOptionItem"><span class="type-signature"></span>buildOptionItem<span class="signature">(key<span class="signature-attributes">opt</span>, synonyms)</span><span class="type-signature"> &rarr; {<a href="global.html#OptionItem">OptionItem</a>}</span></h4>
    

    



<div class="description">
    Constructs OptionItem with chainable property setters.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">A unique key to identify this option. This key will
    be returned as an argument in the resulting actions.intent.OPTION
    intent.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>synonyms</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string>=</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">A list of synonyms which the user may
    use to identify this option instead of the option key.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line2131">line 2131</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Constructed OptionItem.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#OptionItem">OptionItem</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="buildOrder"><span class="type-signature"></span>buildOrder<span class="signature">(orderId)</span><span class="type-signature"> &rarr; {<a href="Order.html">Order</a>}</span></h4>
    

    



<div class="description">
    Constructs Order with chainable property setters.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>orderId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Unique identifier for the order.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line2152">line 2152</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Constructed Order.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Order.html">Order</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="buildOrderUpdate"><span class="type-signature"></span>buildOrderUpdate<span class="signature">(orderId, isGoogleOrderId)</span><span class="type-signature"> &rarr; {<a href="OrderUpdate.html">OrderUpdate</a>}</span></h4>
    

    



<div class="description">
    Constructs OrderUpdate with chainable property setters.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>orderId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Unique identifier of the order.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>isGoogleOrderId</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">True if the order ID is provided by
    Google. False if the order ID is app provided.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line2187">line 2187</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Constructed OrderUpdate.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="OrderUpdate.html">OrderUpdate</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="buildRichResponse"><span class="type-signature"></span>buildRichResponse<span class="signature">(richResponse<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="RichResponse.html">RichResponse</a>}</span></h4>
    

    



<div class="description">
    Constructs RichResponse with chainable property setters.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>richResponse</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="RichResponse.html">RichResponse</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">RichResponse to clone.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line2083">line 2083</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Constructed RichResponse.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="RichResponse.html">RichResponse</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="findArgument_"><span class="type-signature"></span>findArgument_<span class="signature">(&hellip;targets)</span><span class="type-signature"> &rarr; {*}</span></h4>
    

    



<div class="description">
    Find argument with requirements
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>targets</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last">Argument to find</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line2266">line 2266</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The argument
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">*</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getArgumentCommon"><span class="type-signature"></span>getArgumentCommon<span class="signature">(argName)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    Get the argument value by name from the current intent.
If the argument is included in originalRequest, and is not a text argument,
the entire argument object is returned.

Note: If incoming request is using an API version under 2 (e.g. 'v1'),
the argument object will be in Proto2 format (snake_case, etc).
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>argName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Name of the argument.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1705">line 1705</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Argument value matching argName
    or null if no matching argument.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({request: request, response: response});
const WELCOME_INTENT = 'input.welcome';
const NUMBER_INTENT = 'input.number';

function welcomeIntent (app) {
  app.ask('Welcome to action snippets! Say a number.');
}

function numberIntent (app) {
  const number = app.getArgument(NUMBER_ARGUMENT);
  app.tell('You said ' + number);
}

const actionMap = new Map();
actionMap.set(WELCOME_INTENT, welcomeIntent);
actionMap.set(NUMBER_INTENT, numberIntent);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="getAvailableSurfaces"><span class="type-signature"></span>getAvailableSurfaces<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;<a href="global.html#Surface">Surface</a>>}</span></h4>
    

    



<div class="description">
    Returns the set of other available surfaces for the user.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1916">line 1916</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Empty if no available surfaces.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="global.html#Surface">Surface</a>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getDateTime"><span class="type-signature"></span>getDateTime<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="global.html#DateTime">DateTime</a>}</span></h4>
    

    



<div class="description">
    Gets user provided date and time. Use after askForDateTime.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1822">line 1822</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Date and time given by the user. Null if no user
    date and time given.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#DateTime">DateTime</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getDeliveryAddress"><span class="type-signature"></span>getDeliveryAddress<span class="signature">()</span><span class="type-signature"> &rarr; {DeliveryAddress}</span></h4>
    

    



<div class="description">
    Gets order delivery address. Only use after calling askForDeliveryAddress.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1752">line 1752</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Delivery address information. Null if user
    denies permission, or no address given.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">DeliveryAddress</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getDeviceLocation"><span class="type-signature"></span>getDeviceLocation<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="global.html#DeviceLocation">DeviceLocation</a>}</span></h4>
    

    



<div class="description">
    If granted permission to device's location in previous intent, returns device's
location (see <a href="AssistantApp.html#askForPermissions">askForPermissions</a>).
If device info is unavailable, returns null.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1635">line 1635</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Null if location permission is not granted.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#DeviceLocation">DeviceLocation</a></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({request: req, response: res});
// or
const app = new ActionsSdkApp({request: req, response: res});
app.askForPermission("To get you a ride",
  app.SupportedPermissions.DEVICE_PRECISE_LOCATION);
// ...
// In response handler for permissions fallback intent:
if (app.isPermissionGranted()) {
  sendCarTo(app.getDeviceLocation().coordinates);
}</code></pre>



        
            

    

    
    <h4 class="name" id="getInputType"><span class="type-signature"></span>getInputType<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    Gets type of input used for this request.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1654">line 1654</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    One of AssistantApp.InputTypes.
    Null if no input type given.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getLastSeen"><span class="type-signature"></span>getLastSeen<span class="signature">()</span><span class="type-signature"> &rarr; {Date|null}</span></h4>
    

    



<div class="description">
    Get the user's last seen time as a Date object.
Not supported in V1.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1600">line 1600</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    User's last seen date or null if never seen
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Date</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({request, response});
const lastSeen = app.getLastSeen();</code></pre>



        
            

    

    
    <h4 class="name" id="getRepromptCount"><span class="type-signature"></span>getRepromptCount<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    Returns the number of subsequent reprompts related to silent input from the
user. This should be used along with the NO_INPUT intent to reprompt the
user for input in cases where the Google Assistant could not pick up any
speech.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line2014">line 2014</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The current reprompt count. Null if no reprompt count
    available (e.g. not in the NO_INPUT intent).
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new ActionsSdkApp({request, response});

function welcome (app) {
  app.ask('Welcome to your app!');
}

function noInput (app) {
  if (app.getRepromptCount() === 0) {
    app.ask(`What was that?`);
  } else if (app.getRepromptCount() === 1) {
    app.ask(`Sorry I didn't catch that. Could you repeat yourself?`);
  } else if (app.isFinalReprompt()) {
    app.tell(`Okay let's try this again later.`);
  }
}

const actionMap = new Map();
actionMap.set(app.StandardIntents.MAIN, welcome);
actionMap.set(app.StandardIntents.NO_INPUT, noInput);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="getSignInStatus"><span class="type-signature"></span>getSignInStatus<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Gets status of user sign in request.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1841">line 1841</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Result of user sign in request. One of
DialogflowApp.SignInStatus or ActionsSdkApp.SignInStatus
Null if no sign in status.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getSurfaceCapabilities"><span class="type-signature"></span>getSurfaceCapabilities<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    

    



<div class="description">
    Gets surface capabilities of user device.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1894">line 1894</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Supported surface capabilities, as defined in
    AssistantApp.SurfaceCapabilities.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getTransactionDecision"><span class="type-signature"></span>getTransactionDecision<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="global.html#TransactionDecision">TransactionDecision</a>}</span></h4>
    

    



<div class="description">
    Gets transaction decision information. Only use after calling
askForTransactionDecision.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1786">line 1786</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Transaction decision data. Returns object with
    userDecision only if user declines. userDecision will be one of
    Transactions.TransactionUserDecision. Null if no decision given.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#TransactionDecision">TransactionDecision</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getTransactionRequirementsResult"><span class="type-signature"></span>getTransactionRequirementsResult<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Gets transactability of user. Only use after calling
askForTransactionRequirements. Null if no result given.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1734">line 1734</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    One of Transactions.ResultType.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getUser"><span class="type-signature"></span>getUser<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="global.html#User">User</a>}</span></h4>
    

    



<div class="description">
    Gets the <a href="global.html#User">User</a> object.
The user object contains information about the user, including
a string identifier and personal information (requires requesting permissions,
see <a href="AssistantApp.html#askForPermissions">askForPermissions</a>).
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1510">line 1510</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Null if no value.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#User">User</a></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({request: request, response: response});
// or
const app = new ActionsSdkApp({request: request, response: response});
const userId = app.getUser().userId;</code></pre>



        
            

    

    
    <h4 class="name" id="getUserConfirmation"><span class="type-signature"></span>getUserConfirmation<span class="signature">()</span><span class="type-signature"> &rarr; {boolean|null}</span></h4>
    

    



<div class="description">
    Gets confirmation decision. Use after askForConfirmation.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1804">line 1804</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    False if user replied with negative response. Null if no user
    confirmation decision given.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getUserLocale"><span class="type-signature"></span>getUserLocale<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Gets the user locale. Returned string represents the regional language
information of the user set in their Assistant settings.
For example, 'en-US' represents US English.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1584">line 1584</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    User's locale, e.g. 'en-US'. Null if no locale given.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({request, response});
const locale = app.getUserLocale();</code></pre>



        
            

    

    
    <h4 class="name" id="getUserName"><span class="type-signature"></span>getUserName<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="global.html#UserName">UserName</a>}</span></h4>
    

    



<div class="description">
    If granted permission to user's name in previous intent, returns user's
display name, family name, and given name. If name info is unavailable,
returns null.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1565">line 1565</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Null if name permission is not granted.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#UserName">UserName</a></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({request: req, response: res});
const REQUEST_PERMISSION_ACTION = 'request_permission';
const SAY_NAME_ACTION = 'get_name';

function requestPermission (app) {
  const permission = app.SupportedPermissions.NAME;
  app.askForPermission('To know who you are', permission);
}

function sayName (app) {
  if (app.isPermissionGranted()) {
    app.tell('Your name is ' + app.getUserName().displayName));
  } else {
    // Response shows that user did not grant permission
    app.tell('Sorry, I could not get your name.');
  }
}
const actionMap = new Map();
actionMap.set(REQUEST_PERMISSION_ACTION, requestPermission);
actionMap.set(SAY_NAME_ACTION, sayName);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="handleRequest"><span class="type-signature"></span>handleRequest<span class="signature">(handler)</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    Handles the incoming Assistant request using a handler or Map of handlers.
Each handler can be a function callback or Promise.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>handler</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>
|

<span class="param-type">Map</span>


            
            </td>

            

            

            <td class="description last">The handler (or Map of handlers) for the request.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line570">line 570</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// Actions SDK
const app = new ActionsSdkApp({request: request, response: response});

function mainIntent (app) {
  const inputPrompt = app.buildInputPrompt(true, '&lt;speak>Hi! &lt;break time="1"/> ' +
        'I can read out an ordinal like ' +
        '&lt;say-as interpret-as="ordinal">123&lt;/say-as>. Say a number.&lt;/speak>',
        ['I didn\'t hear a number', 'If you\'re still there, what\'s the number?', 'What is the number?']);
  app.ask(inputPrompt);
}

function rawInput (app) {
  if (app.getRawInput() === 'bye') {
    app.tell('Goodbye!');
  } else {
    const inputPrompt = app.buildInputPrompt(true, '&lt;speak>You said, &lt;say-as interpret-as="ordinal">' +
      app.getRawInput() + '&lt;/say-as>&lt;/speak>',
        ['I didn\'t hear a number', 'If you\'re still there, what\'s the number?', 'What is the number?']);
    app.ask(inputPrompt);
  }
}

const actionMap = new Map();
actionMap.set(app.StandardIntents.MAIN, mainIntent);
actionMap.set(app.StandardIntents.TEXT, rawInput);

app.handleRequest(actionMap);

// Dialogflow
const app = new DialogflowApp({request: req, response: res});
const NAME_ACTION = 'make_name';
const COLOR_ARGUMENT = 'color';
const NUMBER_ARGUMENT = 'number';

function makeName (app) {
  const number = app.getArgument(NUMBER_ARGUMENT);
  const color = app.getArgument(COLOR_ARGUMENT);
  app.tell('Alright, your silly name is ' +
    color + ' ' + number +
    '! I hope you like it. See you next time.');
}

const actionMap = new Map();
actionMap.set(NAME_ACTION, makeName);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="handleRequestAsync"><span class="type-signature"></span>handleRequestAsync<span class="signature">(handler)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Asynchronously handles the incoming Assistant request using a handler or Map of handlers.
Each handler can be a function callback or Promise.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>handler</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>
|

<span class="param-type">Map</span>


            
            </td>

            

            

            <td class="description last">The handler (or Map of handlers) for the request.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line648">line 648</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    to resolve the result of the handler that was invoked.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// Actions SDK
const app = new ActionsSdkApp({request: request, response: response});

function mainIntent (app) {
  const inputPrompt = app.buildInputPrompt(true, '&lt;speak>Hi! &lt;break time="1"/> ' +
        'I can read out an ordinal like ' +
        '&lt;say-as interpret-as="ordinal">123&lt;/say-as>. Say a number.&lt;/speak>',
        ['I didn\'t hear a number', 'If you\'re still there, what\'s the number?', 'What is the number?']);
  app.ask(inputPrompt);
}

function rawInput (app) {
  if (app.getRawInput() === 'bye') {
    app.tell('Goodbye!');
  } else {
    const inputPrompt = app.buildInputPrompt(true, '&lt;speak>You said, &lt;say-as interpret-as="ordinal">' +
      app.getRawInput() + '&lt;/say-as>&lt;/speak>',
        ['I didn\'t hear a number', 'If you\'re still there, what\'s the number?', 'What is the number?']);
    app.ask(inputPrompt);
  }
}

const actionMap = new Map();
actionMap.set(app.StandardIntents.MAIN, mainIntent);
actionMap.set(app.StandardIntents.TEXT, rawInput);

app.handleRequest(actionMap)
.then(
  (result) => {
    // handle the result
  })
.catch(
  (reason) => {
    // handle an error
  });

// Dialogflow
const app = new DialogflowApp({request: req, response: res});
const NAME_ACTION = 'make_name';
const COLOR_ARGUMENT = 'color';
const NUMBER_ARGUMENT = 'number';

function makeName (app) {
  const number = app.getArgument(NUMBER_ARGUMENT);
  const color = app.getArgument(COLOR_ARGUMENT);
  app.tell('Alright, your silly name is ' +
    color + ' ' + number +
    '! I hope you like it. See you next time.');
}

const actionMap = new Map();
actionMap.set(NAME_ACTION, makeName);

app.handleRequest(actionMap)
.then(
  (result) => {
    // handle the result
  })
.catch(
  (reason) => {
    // handle an error
  });</code></pre>



        
            

    

    
    <h4 class="name" id="hasAvailableSurfaceCapabilities"><span class="type-signature"></span>hasAvailableSurfaceCapabilities<span class="signature">(capabilities)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Returns true if user has an available surface which includes all given
capabilities. Available surfaces capabilities may exist on surfaces other
than that used for an ongoing conversation.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>capabilities</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">Must be one of
    SurfaceCapabilities.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1933">line 1933</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    True if user has a capability available on some surface.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="hasSurfaceCapability"><span class="type-signature"></span>hasSurfaceCapability<span class="signature">(requestedCapability)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Returns true if user device has a given surface capability.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>requestedCapability</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Must be one of SurfaceCapabilities.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1875">line 1875</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    True if user device has the given capability.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new DialogflowApp({request: req, response: res});
const DESCRIBE_SOMETHING = 'DESCRIBE_SOMETHING';

function describe (app) {
  if (app.hasSurfaceCapability(app.SurfaceCapabilities.SCREEN_OUTPUT)) {
    app.tell(richResponseWithBasicCard);
  } else {
    app.tell('Let me tell you about ...');
  }
}
const actionMap = new Map();
actionMap.set(DESCRIBE_SOMETHING, describe);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="isFinalReprompt"><span class="type-signature"></span>isFinalReprompt<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Returns true if it is the final reprompt related to silent input from the
user. This should be used along with the NO_INPUT intent to give the final
response to the user after multiple silences and should be an app.tell
which ends the conversation.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line2053">line 2053</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    True if in a NO_INPUT intent and this is the final turn
    of dialog.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new ActionsSdkApp({request, response});

function welcome (app) {
  app.ask('Welcome to your app!');
}

function noInput (app) {
  if (app.getRepromptCount() === 0) {
    app.ask(`What was that?`);
  } else if (app.getRepromptCount() === 1) {
    app.ask(`Sorry I didn't catch that. Could you repeat yourself?`);
  } else if (app.isFinalReprompt()) {
    app.tell(`Okay let's try this again later.`);
  }
}

const actionMap = new Map();
actionMap.set(app.StandardIntents.MAIN, welcome);
actionMap.set(app.StandardIntents.NO_INPUT, noInput);
app.handleRequest(actionMap);</code></pre>



        
            

    

    
    <h4 class="name" id="isInSandbox"><span class="type-signature"></span>isInSandbox<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Returns true if the app is being tested in sandbox mode. Enable sandbox
mode in the (Actions console)[console.actions.google.com] to test
transactions.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1975">line 1975</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    True if app is being used in Sandbox mode.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isNewSurface"><span class="type-signature"></span>isNewSurface<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Returns the result of the AskForNewSurface helper.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1959">line 1959</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    True if user has triggered conversation on a new device
    following the NEW_SURFACE intent.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isPermissionGranted"><span class="type-signature"></span>isPermissionGranted<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Returns true if the request follows a previous request asking for
permission from the user and the user granted the permission(s). Otherwise,
false. Use with <a href="AssistantApp.html#askForPermissions">askForPermissions</a>.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line1080">line 1080</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    true if permissions granted.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const app = new ActionsSdkApp({request: request, response: response});
// or
const app = new DialogflowApp({request: request, response: response});
app.askForPermissions("To get you a ride", [
  app.SupportedPermissions.NAME,
  app.SupportedPermissions.DEVICE_PRECISE_LOCATION
]);
// ...
// In response handler for subsequent intent:
if (app.isPermissionGranted()) {
 // Use the requested permission(s) to get the user a ride
}</code></pre>



        
            

    

    
    <h4 class="name" id="isUpdateRegistered"><span class="type-signature"></span>isUpdateRegistered<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Returns true if user accepted update registration request. Used with
<a href="AssistantApp.html#askToRegisterDailyUpdate">AssistantApp#askToRegisterDailyUpdate</a>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="assistant-app.js.html">assistant-app.js</a>, <a href="assistant-app.js.html#line2067">line 2067</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    True if user accepted update registration request.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ActionsSdkApp.html">ActionsSdkApp</a></li><li><a href="AssistantApp.html">AssistantApp</a></li><li><a href="BasicCard.html">BasicCard</a></li><li><a href="Carousel.html">Carousel</a></li><li><a href="Cart.html">Cart</a></li><li><a href="DialogflowApp.html">DialogflowApp</a></li><li><a href="LineItem.html">LineItem</a></li><li><a href="List.html">List</a></li><li><a href="global.html#OptionItem">OptionItem</a></li><li><a href="Order.html">Order</a></li><li><a href="OrderUpdate.html">OrderUpdate</a></li><li><a href="RichResponse.html">RichResponse</a></li></ul><h3>Global</h3><ul><li><a href="global.html#isSsml">isSsml</a></li><li><a href="global.html#reverseOrderStateInfo">reverseOrderStateInfo</a></li><li><a href="global.html#TransactionValues">TransactionValues</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Nov 15 2017 13:52:45 GMT-0800 (PST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>